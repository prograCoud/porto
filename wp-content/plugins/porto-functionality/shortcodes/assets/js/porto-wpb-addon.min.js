!function(e){e(document).ready((function(){void 0!==window.VcRowView&&(window.VcRowView.prototype.convertRowColumns=function(e){var t=vc.shortcodes,a=e.toString().split(/_/),i=t.where({parent_id:this.model.id}),o=[],n=[],r="";return _.each(a,(function(e,a){var d;"flex1"!=e&&"flexauto"!=e?(e=_.map(e.toString().split(""),(function(e,t){return parseInt(e,10)})),r=3<e.length?e[0]+""+e[1]+"/"+e[2]+e[3]:2<e.length?e[0]+"/"+e[1]+e[2]:e[0]+"/"+e[1]):(r=e.slice(0,4)+"-"+e.slice(4),e=[e.slice(0,4),e.slice(4)]),n.push(r),e=_.extend(_.isUndefined(i[a])?{}:i[a].get("params"),{width:r}),vc.storage.lock(),d=t.create({shortcode:this.getChildTag(),params:e,parent_id:this.model.id}),_.isObject(i[a])&&_.each(t.where({parent_id:i[a].id}),(function(e){vc.storage.lock(),e.save({parent_id:d.id}),vc.storage.lock(),e.trigger("change_parent_id")})),o.push(d)}),this),a.length<i.length&&_.each(i.slice(a.length),(function(e){_.each(t.where({parent_id:e.id}),(function(e){vc.storage.lock(),e.save({parent_id:_.last(o).id}),vc.storage.lock(),e.trigger("change_parent_id")}))})),_.each(i,(function(e){vc.storage.lock(),e.destroy()}),this),this.model.save(),this.setActiveLayoutButton(""+e),n}),void 0!==window.InlineShortcodeView_vc_row&&(window.InlineShortcodeView_vc_row.prototype.convertToWidthsArray=function(e){return _.map(e.split(/_/),(function(e){if("flex1"!=e&&"flexauto"!=e){var t=e.split("");return t.splice(Math.floor(e.length/2),0,"/"),t.join("")}return e.slice(0,4)+"/"+e.slice(4)}))}),void 0!==window.InlineShortcodeView_vc_column&&(window.InlineShortcodeView_vc_column.prototype.setColumnClasses=function(){var e=this.getParam("offset")||"",t=this.getParam("width")||"1/1",a=this.$el.find("> .wpb_column");if(-1==t.indexOf("flex"))this.css_class_width=this.convertSize(t),this.css_class_width!==t&&(this.css_class_width=this.css_class_width.replace(/[^\d]/g,"")),a.removeClass("vc_col-sm-"+this.css_class_width),e.match(/vc_col\-sm\-\d+/)||this.$el.addClass("vc_col-sm-"+this.css_class_width),vc.responsive_disabled&&(e=e.replace(/vc_col\-(lg|md|xs)[^\s]*/g,"")),_.isEmpty(e)||(a.removeClass(e),this.$el.addClass(e));else{if("flex/1"!=t&&"flex-1"!=t)return this.$el.addClass("wpb-flex-auto");this.$el.addClass("wpb-flex-1")}}),e("body").on("vcPanel.shown",'#vc_ui-panel-edit-element[data-vc-shortcode="porto_products"]',(function(){t(),jQuery('.wpb_el_type_autocomplete[data-vc-shortcode-param-name="orderby"] input.autocomplete_field[name="orderby"]').data("vcParamObject").updateItems=function(){this.selected_items.length?this.$input_param.val(this.getSelectedItems().join(", ")):this.$input_param.val(""),t()}})),e("body").on("vcPanel.shown",'#vc_ui-panel-edit-element[data-vc-shortcode="porto_tb_posts"]',(function(){var t=e(this),a=t.find(".wpb_vc_param_value.tax");$term=t.find(".vc_autocomplete-field .wpb_vc_param_value.terms"),$term.length&&a.length&&($param=$term.data("vc-param-object"),$param.source_data=function(){return{tax:a.val()}});var i=t.find(".vc_autocomplete-field .wpb_vc_param_value.post_ids"),o=t.find(".wpb_vc_param_value.post_type");i.length&&o.length&&($param=i.data("vc-param-object"),$param.source_data=function(){return{post_type:o.val()}})}));var a=e("#vc_ui-panel-edit-element");function i(e){var t=e.parent(".porto-wpb-gp");e.hasClass("vc_dependent-hidden")?t.addClass("vc_dependent-hidden"):t.removeClass("vc_dependent-hidden")}e("body").on("vcPanel.shown",(function(){e(this).find(".vc_shortcode-param").each((function(){var t=e(this),a=t.data("param_settings");void 0!==a&&void 0!==a.hint&&t.find(".wpb_element_label").append('<div class="porto-widget-hint"><div class="porto-widget-tooltip porto-widget-tooltip-bottom">'+a.hint+"</div></div>")})),a.on("hover mouseover",".porto-widget-hint",(function(){var t=e(this),a=e(window).scrollTop(),i=t.offset(),o=i.top-a+25,n=i.left-5;t.children().css({top:o,left:n})})),e(".vc_wrapper-param-type-porto_param_heading").each((function(){var t=e(this);if(void 0!==t.data("param_settings")&&void 0!==t.data("param_settings").with_group&&t.data("param_settings").with_group){var a=t.nextUntil(".vc_wrapper-param-type-porto_param_heading"),i=e('<div class="porto-wpb-gp"></div>'),o=e('<div class="porto-wpb-content"></div>');t.before(i),i.append(t),a.length&&(o.append(a),i.append(o))}})),a.trigger("porto_param_hd_group")})),a.on("change",".wpb_el_type_porto_param_heading",(function(){i(e(this))})),a.on("porto_param_hd_group",(function(){e(".wpb_el_type_porto_param_heading").each((function(){i(e(this))}))})),e(".vc_shortcode-link").each((function(){var t=e(this),a=t.find("i");t.find("i").remove();var i='<div class="porto-widget-text">'+t.html()+"</div>";t.html("");var o=e('<div class="porto-widget-img-wrapper"></div>');o.append(a),t.append(o),t.append(i)})),e(".porto-wpb-widget_nav").each((function(){var t=e(this),a=t.find("i");if(a.length){var i='<img loading="lazy" class="porto-widget-img" src="'+(a.currentStyle||window.getComputedStyle(a[0],!1)).backgroundImage.slice(4,-1).replace(/"/g,"")+'" >';a.replaceWith(i)}i=t.find("img");t.find("img").remove();var o="<div>"+t.html()+"</div>";t.html(""),t.append(i),t.append(o)}))}));var t=function(){if(jQuery(".orderby.autocomplete_field").length){var e=jQuery(".orderby.autocomplete_field").val();jQuery('.wpb_el_type_porto_button_group[data-vc-shortcode-param-name*="order_"]').each((function(){var t=jQuery(this),a=t.attr("data-vc-shortcode-param-name").slice(6);e.indexOf(a)>-1?t.removeClass("vc_dependent-hidden"):t.addClass("vc_dependent-hidden")}))}}}(window.jQuery);